<div class="p-5">
    <h1>Dashboard</h1>

<p class="lead">Welcome, <%= current_user.email %>!</p>

<div class="mb-4">
  <%= link_to "Create New Task", new_task_path, class: "btn btn-primary" %>
</div>

<div class="mb-5">
  <h3>Task Summary</h3>
  <ul class="list-group" style="max-width: 400px;">
    <li class="list-group-item d-flex justify-content-between align-items-center">
      Total Tasks
      <span class="badge bg-primary rounded-pill"><%= @tasks_count %></span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      Pending
      <span class="badge bg-warning rounded-pill"><%= @pending_count %></span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      In Progress
      <span class="badge bg-info rounded-pill"><%= @in_progress_count %></span>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      Done
      <span class="badge bg-success rounded-pill"><%= @done_count %></span>
    </li>
  </ul>
</div>

<div class="mb-5">
  <h3>Upcoming Tasks</h3>
  <% if @upcoming_tasks.any? %>
    <ul class="list-group" style="max-width: 600px;">
      <% @upcoming_tasks.each do |task| %>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <%= link_to task.title, task_path(task), class: "text-decoration-none" %>
          <small class="text-muted">Due <%= task.due_date.strftime("%b %d, %Y") %></small>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No upcoming tasks.</p>
  <% end %>
</div>

<p>
  <%= link_to "View All Tasks", tasks_path, class: "btn btn-secondary" %>
</p>

</div>
